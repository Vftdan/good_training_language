вкл прелюдия;

конст РАЗМЕР := 32;
пер мир0: массив(РАЗМЕР, нат);
пер мир1: массив(РАЗМЕР, нат);

// СДЕЛАТЬ: передача массива по ссылке
про печать_мира(мир: массив(РАЗМЕР, нат)) нч
    для индекс := 1..РАЗМЕР то
        если мир(индекс - 1) ?= 0нат
        то печать(«_»);
        иначе то печать(«%»);
    печать(«\н»);
кц

про главная() нч
    если РАЗМЕР -? 3 то вернуть;

    мир0(РАЗМЕР - 2) := 1нат;
    печать_мира(мир0);

    для _ := 1..РАЗМЕР-3 нч
        пер окно: нат := (мир0(0) лбс 1нат) или мир0(1);
        для индекс := 2..РАЗМЕР-1 нч
            окно := ((окно лбс 1нат) или мир0(индекс)) и 7нат;
            мир1(индекс - 1) := (110нат пбс окно) и 1нат;
        кц
        для индекс := 1..РАЗМЕР то мир0(индекс - 1) := мир1(индекс - 1);
        печать_мира(мир0);
    кц
кц
